openapi: 3.0.3
info:
  title: Treine Me API
  description: |
    API completa para plataforma de cursos online onde professores podem criar planos, cursos e conte√∫dos,
    e alunos podem se inscrever e acessar o material did√°tico.

    ## Funcionalidades Principais
    - **Autentica√ß√£o**: Login e registro para admins, professores e alunos
    - **Gest√£o de Professores**: Admin cadastra e gerencia professores
    - **Gest√£o de Planos**: Professores criam planos de assinatura
    - **Produtos**: Cursos, e-books e mentorias
    - **Upload de Arquivos**: Integra√ß√£o com Cloudflare R2 para fotos, v√≠deos e documentos
    - **Estrutura de Conte√∫do**: M√≥dulos e aulas organizados hierarquicamente
    - **Atribui√ß√£o Manual**: Professor atribui planos aos alunos
    - **API P√∫blica**: Endpoints sem autentica√ß√£o para navega√ß√£o de conte√∫do
    - **App do Aluno**: Funcionalidades espec√≠ficas para alunos com verifica√ß√£o de acesso

    ## üéØ **Conceito Multi-Professor**
    **IMPORTANTE:** Cada professor possui seu pr√≥prio app. Todos os endpoints p√∫blicos 
    e de aluno sempre requerem o `professorId` para filtrar o conte√∫do espec√≠fico 
    do professor.

    ### **Fluxo de Acesso:**
    - **Usu√°rios n√£o logados**: Navegam pelo conte√∫do p√∫blico, mas sem acesso ao conte√∫do das aulas
    - **Alunos sem inscri√ß√£o**: Mesmo acesso que usu√°rios n√£o logados  
    - **Alunos com inscri√ß√£o ativa**: Acesso completo ao conte√∫do do plano contratado

    ## Credenciais Padr√£o
    **Admin:** `dedefranchin@gmail.com` / `bebaleite`

    ## Estrutura de Resposta
    Todas as respostas seguem o padr√£o:
    ```json
    {
      "success": true|false,
      "data": { ... }, // Presente apenas se success = true
      "error": {       // Presente apenas se success = false
        "message": "Mensagem clara para o usu√°rio",
        "details": "Detalhes t√©cnicos (opcional)",
        "field": "campo_com_erro" // Para erros de valida√ß√£o
      }
    }
    ```

    ## üìÅ Sistema de Upload de Arquivos

    A API possui um sistema completo de upload integrado com Cloudflare R2:

    ### **Tipos de Upload Dispon√≠veis:**
    
    #### **Upload B√°sico:**
    - **Imagens de Perfil** (`/upload/profile-image`) - Para fotos de professores e alunos
    - **Capas de Curso** (`/upload/course-cover`) - Para imagens de capa dos produtos
    - **V√≠deos** (`/upload/video`) - Para conte√∫do de aulas e cursos
    - **Documentos** (`/upload/document`) - Para e-books e materiais complementares
    
    #### **Upload Contextual (Novo):**
    - **Capas de Curso** (`/upload/course-cover`) - Capa principal do curso
    - **Galeria de Curso** (`/upload/course-gallery`) - Fotos adicionais do curso
    - **Capa de M√≥dulo** (`/upload/module-cover`) - Capa do m√≥dulo
    - **Galeria de M√≥dulo** (`/upload/module-gallery`) - Fotos do m√≥dulo
    - **Capa de Aula** (`/upload/lesson-cover`) - Capa da aula
    - **Galeria de Aula** (`/upload/lesson-gallery`) - Fotos da aula
    - **Fotos Gerais** (`/upload/general-photos`) - Uso flex√≠vel

    ### **Fluxo de Trabalho com Uploads:**
    1. **Upload do arquivo** usando um dos endpoints de upload
    2. **Receba a URL** retornada pela API
    3. **Use a URL** nos campos apropriados (capaUrl, videoIntroUrl, etc.)
    4. **Arquivos s√£o organizados** automaticamente em pastas espec√≠ficas

    ### **Estrutura de Pastas no Storage:**
    ```
    treine-me/
    ‚îú‚îÄ‚îÄ profile-images/     # Fotos de perfil
    ‚îú‚îÄ‚îÄ course-covers/      # Capas de cursos
    ‚îú‚îÄ‚îÄ course-gallery/     # Galeria de fotos do curso
    ‚îú‚îÄ‚îÄ course-videos/      # V√≠deos de aulas
    ‚îú‚îÄ‚îÄ course-files/       # Materiais complementares
    ‚îú‚îÄ‚îÄ module-covers/      # Capas de m√≥dulos
    ‚îú‚îÄ‚îÄ module-gallery/     # Galeria de fotos do m√≥dulo
    ‚îú‚îÄ‚îÄ lesson-covers/      # Capas de aulas
    ‚îú‚îÄ‚îÄ lesson-gallery/     # Galeria de fotos da aula
    ‚îú‚îÄ‚îÄ general-photos/     # Fotos de uso geral
    ‚îî‚îÄ‚îÄ ebooks/            # E-books em PDF
    ```

    ### **Exemplo de Uso:**
    ```bash
    # 1. Upload da capa do curso
    curl -X POST "http://localhost:8080/upload/course-cover" \
      -H "Authorization: Bearer SEU_TOKEN" \
      -F "file=@capa_curso.jpg" \
      -F "produtoId=ba273d71-9f1b-4c1e-b732-dff3913750e1"
    
    # Resposta: {"success": true, "data": {"url": "https://..."}}
    
    # 2. Criar produto usando a URL da capa
    curl -X POST "http://localhost:8080/professores/me/produtos" \
      -H "Authorization: Bearer SEU_TOKEN" \
      -H "Content-Type: application/json" \
      -d '{"titulo": "Curso JS", "descricao": "...", "tipo": "CURSO", "capaUrl": "https://..."}'
    ```
  version: 1.0.0
  contact:
    name: Treine Me API Support
    email: support@treine-me.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:8080
    description: Servidor de desenvolvimento
  - url: https://api.treine-me.com
    description: Servidor de produ√ß√£o

tags:
  - name: Authentication
    description: Endpoints de autentica√ß√£o e registro
  - name: Admin
    description: Opera√ß√µes exclusivas do administrador
  - name: Professores
    description: Opera√ß√µes espec√≠ficas para professores
  - name: API P√∫blica
    description: Endpoints p√∫blicos sem autentica√ß√£o para navega√ß√£o de conte√∫do
  - name: App do Aluno
    description: Opera√ß√µes espec√≠ficas para alunos autenticados com verifica√ß√£o de acesso
  - name: Alunos
    description: Opera√ß√µes espec√≠ficas para alunos (legado - usar "App do Aluno")
  - name: Upload
    description: Endpoints de upload de arquivos (fotos, v√≠deos, documentos)
  - name: Upload Contextual
    description: Endpoints espec√≠ficos de upload por contexto (cursos, m√≥dulos, aulas)
  - name: M√≥dulos e Aulas
    description: Gest√£o de estrutura de conte√∫do dos cursos
  - name: Health
    description: Verifica√ß√£o de status da API

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Token JWT obtido atrav√©s do endpoint de login

  schemas:
    ApiResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Indica se a opera√ß√£o foi bem-sucedida
        data:
          type: object
          description: Dados da resposta (presente apenas se success = true)
        error:
          $ref: '#/components/schemas/ApiError'
      required:
        - success

    ApiError:
      type: object
      properties:
        message:
          type: string
          description: Mensagem clara para o usu√°rio
        details:
          type: string
          description: Detalhes t√©cnicos do erro (opcional)
        field:
          type: string
          description: Campo espec√≠fico com erro (para valida√ß√µes)
      required:
        - message

    UserRole:
      type: string
      enum:
        - ADMIN
        - PROFESSOR
        - ALUNO
      description: Tipo de usu√°rio no sistema

    Recorrencia:
      type: string
      enum:
        - MENSAL
        - ANUAL
      description: Tipo de recorr√™ncia do plano

    TipoProduto:
      type: string
      enum:
        - CURSO
        - MENTORIA
        - EBOOK
      description: Tipo de produto/conte√∫do

    StatusInscricao:
      type: string
      enum:
        - ATIVA
        - CANCELADA
        - PENDENTE
        - EXPIRADA
      description: Status da inscri√ß√£o do aluno

    TipoConteudo:
      type: string
      enum:
        - VIDEO
        - TEXTO
        - ATIVIDADE
      description: Tipo de conte√∫do da aula

    DificuldadeTreino:
      type: string
      enum:
        - INICIANTE
        - INTERMEDIARIO
        - AVANCADO
      description: N√≠vel de dificuldade do treino

    TipoTreino:
      type: string
      enum:
        - CARDIO
        - FORCA
        - FLEXIBILIDADE
        - HIIT
        - YOGA
        - PILATES
        - FUNCIONAL
        - DANCA
        - OUTRO
      description: Categoria do tipo de treino

    ModuloCreateRequest:
      type: object
      properties:
        titulo:
          type: string
          example: "Introdu√ß√£o ao JavaScript"
          minLength: 1
        descricao:
          type: string
          example: "Conceitos b√°sicos e fundamentos da linguagem"
          minLength: 1
        ordem:
          type: integer
          example: 1
          minimum: 1
        capaUrl:
          type: string
          format: uri
          nullable: true
        videoIntroUrl:
          type: string
          format: uri
          nullable: true
      required:
        - titulo
        - descricao
        - ordem

    ModuloResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        titulo:
          type: string
        descricao:
          type: string
        ordem:
          type: integer
        capaUrl:
          type: string
          format: uri
          nullable: true
        videoIntroUrl:
          type: string
          format: uri
          nullable: true
        produtoId:
          type: string
          format: uuid
        aulas:
          type: array
          items:
            $ref: '#/components/schemas/AulaResponse'
      required:
        - id
        - titulo
        - descricao
        - ordem
        - produtoId

    AulaCreateRequest:
      type: object
      properties:
        titulo:
          type: string
          example: "Vari√°veis e Tipos de Dados"
          minLength: 1
        descricao:
          type: string
          example: "Aprenda sobre declara√ß√£o de vari√°veis e tipos primitivos"
          minLength: 1
        ordem:
          type: integer
          example: 1
          minimum: 1
        tipoConteudo:
          $ref: '#/components/schemas/TipoConteudo'
        planoId:
          type: string
          format: uuid
        # Configura√ß√µes do treino (campos do formul√°rio)
        caloriasPerdidas:
          type: integer
          example: 300
          minimum: 0
          nullable: true
          description: "Estimativa de calorias queimadas durante o treino"
        dificuldade:
          $ref: '#/components/schemas/DificuldadeTreino'
          nullable: true
        tipoTreino:
          $ref: '#/components/schemas/TipoTreino'
          nullable: true
        equipamentosNecessarios:
          type: string
          example: "Halteres de 2kg, tapete de yoga"
          nullable: true
          description: "Lista de equipamentos necess√°rios para o treino"
        duracaoTreinoMinutos:
          type: integer
          example: 45
          minimum: 1
          nullable: true
          description: "Dura√ß√£o efetiva do treino em minutos"
        intensidade:
          type: integer
          example: 7
          minimum: 1
          maximum: 10
          nullable: true
          description: "Intensidade do treino numa escala de 1 a 10"
        observacoesTreino:
          type: string
          example: "Treino focado em queima de gordura. Fa√ßa pausas se necess√°rio."
          nullable: true
          description: "Observa√ß√µes especiais sobre o treino"
      required:
        - titulo
        - descricao
        - ordem
        - tipoConteudo
        - planoId

    AulaResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        titulo:
          type: string
        descricao:
          type: string
        ordem:
          type: integer
        tipoConteudo:
          $ref: '#/components/schemas/TipoConteudo'
        planoId:
          type: string
          format: uuid
        moduloId:
          type: string
          format: uuid
        conteudo:
          $ref: '#/components/schemas/ConteudoResponse'
        # Metadados do v√≠deo (preenchidos automaticamente)
        videoDuracaoSegundos:
          type: integer
          example: 1800
          nullable: true
          description: "Dura√ß√£o do v√≠deo em segundos"
        videoResolucao:
          type: string
          example: "1080p"
          nullable: true
          description: "Resolu√ß√£o do v√≠deo (ex: 1080p, 720p, 480p)"
        videoTamanhoBytes:
          type: integer
          format: int64
          example: 52428800
          nullable: true
          description: "Tamanho do arquivo de v√≠deo em bytes"
        videoCodec:
          type: string
          example: "H.264"
          nullable: true
          description: "Codec do v√≠deo (ex: H.264, H.265, VP9)"
        videoFps:
          type: integer
          example: 30
          nullable: true
          description: "Frames por segundo do v√≠deo"
        videoAspectRatio:
          type: string
          example: "16:9"
          nullable: true
          description: "Propor√ß√£o do v√≠deo (ex: 16:9, 4:3)"
        # Configura√ß√µes do treino
        caloriasPerdidas:
          type: integer
          example: 300
          nullable: true
          description: "Estimativa de calorias queimadas durante o treino"
        dificuldade:
          $ref: '#/components/schemas/DificuldadeTreino'
          nullable: true
        tipoTreino:
          $ref: '#/components/schemas/TipoTreino'
          nullable: true
        equipamentosNecessarios:
          type: string
          example: "Halteres de 2kg, tapete de yoga"
          nullable: true
          description: "Lista de equipamentos necess√°rios para o treino"
        duracaoTreinoMinutos:
          type: integer
          example: 45
          nullable: true
          description: "Dura√ß√£o efetiva do treino em minutos"
        intensidade:
          type: integer
          example: 7
          minimum: 1
          maximum: 10
          nullable: true
          description: "Intensidade do treino numa escala de 1 a 10"
        observacoesTreino:
          type: string
          example: "Treino focado em queima de gordura. Fa√ßa pausas se necess√°rio."
          nullable: true
          description: "Observa√ß√µes especiais sobre o treino"
      required:
        - id
        - titulo
        - descricao
        - ordem
        - tipoConteudo
        - planoId
        - moduloId

    ConteudoResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        urlVideo:
          type: string
          format: uri
          nullable: true
          example: "https://exemplo.com/video.mp4"
        textoMarkdown:
          type: string
          nullable: true
          example: "# T√≠tulo da Aula\n\nConte√∫do em Markdown..."
        arquivoUrl:
          type: string
          format: uri
          nullable: true
          example: "https://exemplo.com/arquivo.pdf"
        aulaId:
          type: string
          format: uuid
      required:
        - id
        - aulaId

    ModuloUpdateRequest:
      type: object
      properties:
        titulo:
          type: string
        descricao:
          type: string
        ordem:
          type: integer
        capaUrl:
          type: string
          format: uri
          nullable: true
        videoIntroUrl:
          type: string
          format: uri
          nullable: true

    ReorderModulosRequest:
      type: object
      properties:
        moduloIds:
          type: array
          items:
            type: string
            format: uuid
      required:
        - moduloIds

    AulaUpdateRequest:
      type: object
      properties:
        titulo:
          type: string
        descricao:
          type: string
        ordem:
          type: integer
        tipoConteudo:
          $ref: '#/components/schemas/TipoConteudo'
        planoId:
          type: string
          format: uuid
        # Configura√ß√µes do treino (campos do formul√°rio)
        caloriasPerdidas:
          type: integer
          example: 300
          minimum: 0
          nullable: true
          description: "Estimativa de calorias queimadas durante o treino"
        dificuldade:
          $ref: '#/components/schemas/DificuldadeTreino'
          nullable: true
        tipoTreino:
          $ref: '#/components/schemas/TipoTreino'
          nullable: true
        equipamentosNecessarios:
          type: string
          example: "Halteres de 2kg, tapete de yoga"
          nullable: true
          description: "Lista de equipamentos necess√°rios para o treino"
        duracaoTreinoMinutos:
          type: integer
          example: 45
          minimum: 1
          nullable: true
          description: "Dura√ß√£o efetiva do treino em minutos"
        intensidade:
          type: integer
          example: 7
          minimum: 1
          maximum: 10
          nullable: true
          description: "Intensidade do treino numa escala de 1 a 10"
        observacoesTreino:
          type: string
          example: "Treino focado em queima de gordura. Fa√ßa pausas se necess√°rio."
          nullable: true
          description: "Observa√ß√µes especiais sobre o treino"

    ReorderAulasRequest:
      type: object
      properties:
        aulaIds:
          type: array
          items:
            type: string
            format: uuid
      required:
        - aulaIds

    ConteudoUpdateRequest:
      type: object
      properties:
        urlVideo:
          type: string
          format: uri
          nullable: true
        textoMarkdown:
          type: string
          nullable: true
        arquivoUrl:
          type: string
          format: uri
          nullable: true

    LoginRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          example: "dedefranchin@gmail.com"
        senha:
          type: string
          format: password
          example: "bebaleite"
      required:
        - email
        - senha

    LoginResponse:
      type: object
      properties:
        token:
          type: string
          description: Token JWT para autentica√ß√£o
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        user:
          $ref: '#/components/schemas/UserInfo'
      required:
        - token
        - user

    UserInfo:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "ba273d71-9f1b-4c1e-b732-dff3913750e1"
        nome:
          type: string
          example: "Jo√£o Silva"
        email:
          type: string
          format: email
          example: "joao@exemplo.com"
        role:
          $ref: '#/components/schemas/UserRole'
        fotoPerfilUrl:
          type: string
          format: uri
          nullable: true
          example: "https://exemplo.com/foto.jpg"
      required:
        - id
        - nome
        - email
        - role

    ProfessorCreateRequest:
      type: object
      properties:
        nome:
          type: string
          example: "Maria Santos"
          minLength: 1
        email:
          type: string
          format: email
          example: "maria@exemplo.com"
        senha:
          type: string
          format: password
          minLength: 6
          example: "senhasegura123"
        bio:
          type: string
          nullable: true
          example: "Professora de programa√ß√£o com 10 anos de experi√™ncia"
        fotoPerfilUrl:
          type: string
          format: uri
          nullable: true
          example: "https://exemplo.com/maria.jpg"
      required:
        - nome
        - email
        - senha

    ProfessorResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        nome:
          type: string
        email:
          type: string
          format: email
        bio:
          type: string
          nullable: true
        fotoPerfilUrl:
          type: string
          format: uri
          nullable: true
        role:
          $ref: '#/components/schemas/UserRole'
      required:
        - id
        - nome
        - email
        - role

    AlunoCreateRequest:
      type: object
      properties:
        nome:
          type: string
          example: "Carlos Oliveira"
          minLength: 1
        email:
          type: string
          format: email
          example: "carlos@exemplo.com"
        senha:
          type: string
          format: password
          minLength: 6
          example: "minhasenha123"
        fotoPerfilUrl:
          type: string
          format: uri
          nullable: true
          example: "https://exemplo.com/carlos.jpg"
      required:
        - nome
        - email
        - senha

    AlunoResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        nome:
          type: string
        email:
          type: string
          format: email
        fotoPerfilUrl:
          type: string
          format: uri
          nullable: true
        role:
          $ref: '#/components/schemas/UserRole'
      required:
        - id
        - nome
        - email
        - role

    PlanoCreateRequest:
      type: object
      properties:
        nome:
          type: string
          example: "Plano B√°sico"
          minLength: 1
        descricao:
          type: string
          example: "Acesso a cursos b√°sicos de programa√ß√£o"
          minLength: 1
        valor:
          type: string
          example: "29.90"
          pattern: '^[0-9]+(\.[0-9]{1,2})?$'
        recorrencia:
          $ref: '#/components/schemas/Recorrencia'
      required:
        - nome
        - descricao
        - valor
        - recorrencia

    PlanoResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        nome:
          type: string
        descricao:
          type: string
        valor:
          type: string
        recorrencia:
          $ref: '#/components/schemas/Recorrencia'
        professorId:
          type: string
          format: uuid
        professorNome:
          type: string
      required:
        - id
        - nome
        - descricao
        - valor
        - recorrencia
        - professorId
        - professorNome

    ProdutoCreateRequest:
      type: object
      properties:
        titulo:
          type: string
          example: "JavaScript Fundamentals"
          minLength: 1
        descricao:
          type: string
          example: "Aprenda JavaScript do zero ao avan√ßado"
          minLength: 1
        tipo:
          $ref: '#/components/schemas/TipoProduto'
        capaUrl:
          type: string
          format: uri
          nullable: true
          example: "https://exemplo.com/capa.jpg"
        videoIntroUrl:
          type: string
          format: uri
          nullable: true
          example: "https://exemplo.com/intro.mp4"
      required:
        - titulo
        - descricao
        - tipo

    ProdutoResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        titulo:
          type: string
        descricao:
          type: string
        tipo:
          $ref: '#/components/schemas/TipoProduto'
        capaUrl:
          type: string
          format: uri
          nullable: true
        videoIntroUrl:
          type: string
          format: uri
          nullable: true
        professorId:
          type: string
          format: uuid
        professorNome:
          type: string
      required:
        - id
        - titulo
        - descricao
        - tipo
        - professorId
        - professorNome

    PaginatedResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
        page:
          type: integer
          example: 1
        size:
          type: integer
          example: 20
        total:
          type: integer
          example: 150
        totalPages:
          type: integer
          example: 8
      required:
        - data
        - page
        - size
        - total
        - totalPages

    FileUploadResponse:
      type: object
      properties:
        fileName:
          type: string
          example: "profile_1234567890_abc123.jpg"
        url:
          type: string
          format: uri
          example: "https://24be5a76d99e172619714a8eb94b63d9.r2.cloudflarestorage.com/treine-me/profile-images/profile_1234567890_abc123.jpg"
        contentType:
          type: string
          example: "image/jpeg"
        size:
          type: integer
          example: 1024000
      required:
        - fileName
        - url
        - contentType
        - size

    InscricaoResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        dtInicio:
          type: string
          format: date-time
        dtFim:
          type: string
          format: date-time
          nullable: true
        status:
          $ref: '#/components/schemas/StatusInscricao'
        aluno:
          $ref: '#/components/schemas/AlunoResponse'
        plano:
          $ref: '#/components/schemas/PlanoResponse'
      required:
        - id
        - dtInicio
        - status
        - aluno
        - plano

    ResetPasswordRequest:
      type: object
      properties:
        newPassword:
          type: string
          format: password
          minLength: 6
          example: "novasenha123"
      required:
        - newPassword

    PublicAulaResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        titulo:
          type: string
        descricao:
          type: string
        ordem:
          type: integer
        tipoConteudo:
          $ref: '#/components/schemas/TipoConteudo'
        planoId:
          type: string
          format: uuid
        moduloId:
          type: string
          format: uuid
        temConteudo:
          type: boolean
          description: Indica se a aula possui conte√∫do dispon√≠vel (sem mostrar o conte√∫do real)
      required:
        - id
        - titulo
        - descricao
        - ordem
        - tipoConteudo
        - planoId
        - moduloId
        - temConteudo

    AulaCompletaResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        titulo:
          type: string
        descricao:
          type: string
        ordem:
          type: integer
        tipoConteudo:
          $ref: '#/components/schemas/TipoConteudo'
        planoId:
          type: string
          format: uuid
        moduloId:
          type: string
          format: uuid
        conteudo:
          $ref: '#/components/schemas/ConteudoResponse'
        temAcesso:
          type: boolean
          description: Indica se o aluno tem acesso ao conte√∫do desta aula
      required:
        - id
        - titulo
        - descricao
        - ordem
        - tipoConteudo
        - planoId
        - moduloId
        - temAcesso

paths:
  /:
    get:
      summary: Health check b√°sico
      description: Endpoint simples para verificar se a API est√° funcionando
      tags:
        - Health
      responses:
        '200':
          description: API funcionando
          content:
            text/plain:
              schema:
                type: string
                example: "Treine Me API - Hello World!"

  /health:
    get:
      summary: Status da API
      description: Endpoint detalhado para verificar o status da API
      tags:
        - Health
      responses:
        '200':
          description: Status da API
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "OK"
                  message:
                    type: string
                    example: "API est√° funcionando"

  /auth/login:
    post:
      summary: Login de usu√°rio
      description: |
        Autentica um usu√°rio (admin, professor ou aluno) e retorna um token JWT.
        O sistema automaticamente identifica o tipo de usu√°rio baseado no email.
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
            examples:
              admin:
                summary: Login como admin
                value:
                  email: "dedefranchin@gmail.com"
                  senha: "bebaleite"
              professor:
                summary: Login como professor
                value:
                  email: "professor@exemplo.com"
                  senha: "minhasenha123"
              aluno:
                summary: Login como aluno
                value:
                  email: "aluno@exemplo.com"
                  senha: "minhasenha123"
      responses:
        '200':
          description: Login realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/LoginResponse'
        '400':
          description: Dados de entrada inv√°lidos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
        '401':
          description: Credenciais inv√°lidas
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'

  /auth/professor/login:
    post:
      summary: Login de professor
      description: |
        Autentica especificamente um professor e retorna um token JWT.
        Use este endpoint quando desejar garantir que o login seja somente de professores.
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
            examples:
              professor:
                summary: Exemplo de login de professor
                value:
                  email: "dedefranchin@gmail.com"
                  senha: "bebaleite"
      responses:
        '200':
          description: Login de professor realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/LoginResponse'
        '400':
          description: Dados de entrada inv√°lidos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
        '401':
          description: Credenciais inv√°lidas
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'

  /auth/register/professor:
    post:
      summary: Registro de professor
      description: Cria uma nova conta de professor no sistema
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProfessorCreateRequest'
      responses:
        '200':
          description: Professor registrado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ProfessorResponse'
        '400':
          description: Dados de entrada inv√°lidos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
        '409':
          description: Email j√° est√° em uso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'

  /auth/register/aluno:
    post:
      summary: Registro de aluno
      description: Cria uma nova conta de aluno no sistema
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AlunoCreateRequest'
      responses:
        '200':
          description: Aluno registrado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/AlunoResponse'
        '400':
          description: Dados de entrada inv√°lidos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
        '409':
          description: Email j√° est√° em uso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'

  /admin/professores:
    post:
      summary: Criar professor (Admin)
      description: Admin cria uma nova conta de professor
      tags:
        - Admin
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProfessorCreateRequest'
      responses:
        '200':
          description: Professor criado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ProfessorResponse'
        '401':
          description: Token inv√°lido ou expirado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
        '403':
          description: Acesso negado - apenas admins
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
    get:
      summary: Listar professores (Admin)
      description: Admin lista todos os professores cadastrados
      tags:
        - Admin
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: N√∫mero da p√°gina
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          description: Tamanho da p√°gina
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: Lista de professores
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PaginatedResponse'

  /admin/professores/{id}:
    get:
      summary: Ver professor (Admin)
      description: Admin visualiza detalhes de um professor espec√≠fico
      tags:
        - Admin
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do professor
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Detalhes do professor
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ProfessorResponse'
    put:
      summary: Editar professor (Admin)
      description: Admin edita dados de um professor
      tags:
        - Admin
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do professor
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nome:
                  type: string
                bio:
                  type: string
                fotoPerfilUrl:
                  type: string
                  format: uri
      responses:
        '200':
          description: Professor atualizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ProfessorResponse'
    delete:
      summary: Desativar professor (Admin)
      description: Admin desativa um professor (soft delete)
      tags:
        - Admin
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do professor
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Professor desativado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          success:
                            type: boolean

  /admin/professores/{id}/reset-password:
    post:
      summary: Resetar senha do professor (Admin)
      description: Admin reseta a senha de um professor
      tags:
        - Admin
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do professor
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordRequest'
      responses:
        '200':
          description: Senha resetada com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          success:
                            type: boolean
  /professores/me/planos:
    post:
      summary: Criar plano
      description: Professor cria um novo plano de assinatura
      tags:
        - Professores
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlanoCreateRequest'
      responses:
        '200':
          description: Plano criado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PlanoResponse'
    get:
      summary: Listar meus planos
      description: Professor lista seus pr√≥prios planos
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: N√∫mero da p√°gina
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          description: Tamanho da p√°gina
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: Lista de planos do professor
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PaginatedResponse'

  /professores/me/planos/{id}:
    get:
      summary: Ver plano
      description: Professor visualiza detalhes de um plano espec√≠fico
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do plano
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Detalhes do plano
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PlanoResponse'
    put:
      summary: Editar plano
      description: Professor edita um plano existente
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do plano
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nome:
                  type: string
                descricao:
                  type: string
                valor:
                  type: string
                recorrencia:
                  $ref: '#/components/schemas/Recorrencia'
      responses:
        '200':
          description: Plano atualizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PlanoResponse'
    delete:
      summary: Excluir plano
      description: Professor desativa um plano (soft delete)
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do plano
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Plano exclu√≠do com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          success:
                            type: boolean

  /professores/me/planos/{planoId}/produtos/{produtoId}:
    post:
      summary: Adicionar produto ao plano
      description: Professor associa um produto a um plano
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: planoId
          in: path
          required: true
          description: ID do plano
          schema:
            type: string
            format: uuid
        - name: produtoId
          in: path
          required: true
          description: ID do produto
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Produto adicionado ao plano com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          success:
                            type: boolean
    delete:
      summary: Remover produto do plano
      description: Professor remove a associa√ß√£o produto-plano
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: planoId
          in: path
          required: true
          description: ID do plano
          schema:
            type: string
            format: uuid
        - name: produtoId
          in: path
          required: true
          description: ID do produto
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Produto removido do plano com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          success:
                            type: boolean

  /professores/me/planos/{planoId}/alunos/{alunoId}:
    post:
      summary: Atribuir plano ao aluno
      description: Professor atribui manualmente um plano a um aluno
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: planoId
          in: path
          required: true
          description: ID do plano
          schema:
            type: string
            format: uuid
        - name: alunoId
          in: path
          required: true
          description: ID do aluno
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Plano atribu√≠do ao aluno com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/InscricaoResponse'

  /professores/me/produtos:
    post:
      summary: Criar produto
      description: Professor cria um novo produto (curso, e-book, mentoria)
      tags:
        - Professores
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProdutoCreateRequest'
      responses:
        '200':
          description: Produto criado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ProdutoResponse'
    get:
      summary: Listar meus produtos
      description: Professor lista seus pr√≥prios produtos
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: N√∫mero da p√°gina
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          description: Tamanho da p√°gina
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: Lista de produtos do professor
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PaginatedResponse'

  /professores/me/produtos/{id}:
    get:
      summary: Ver produto
      description: Professor visualiza detalhes de um produto espec√≠fico
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do produto
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Detalhes do produto
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ProdutoResponse'
    put:
      summary: Editar produto
      description: Professor edita um produto existente
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do produto
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                titulo:
                  type: string
                descricao:
                  type: string
                tipo:
                  $ref: '#/components/schemas/TipoProduto'
                capaUrl:
                  type: string
                  format: uri
                videoIntroUrl:
                  type: string
                  format: uri
      responses:
        '200':
          description: Produto atualizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ProdutoResponse'
    delete:
      summary: Excluir produto
      description: Professor desativa um produto (soft delete)
      tags:
        - Professores
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do produto
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Produto exclu√≠do com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          success:
                            type: boolean

  /upload/profile-image:
    post:
      summary: Upload de imagem de perfil
      description: |
        Upload de imagem de perfil para usu√°rios (professores e alunos).
        
        **Tipos de arquivo aceitos:**
        - JPEG (.jpg, .jpeg)
        - PNG (.png)
        - WebP (.webp)
        
        **Limita√ß√µes:**
        - Tamanho m√°ximo: 100MB
        - Arquivo ser√° renomeado automaticamente para evitar conflitos
        - URL ser√° retornada para uso nos perfis
      tags:
        - Upload
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de imagem (JPEG, PNG, WebP)
            examples:
              profile_image:
                summary: Exemplo de upload de foto de perfil
                value:
                  file: "foto_perfil.jpg"
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/FileUploadResponse'
              examples:
                success:
                  summary: Upload bem-sucedido
                  value:
                    success: true
                    data:
                      fileName: "profile_1703123456_abc123.jpg"
                      url: "https://24be5a76d99e172619714a8eb94b63d9.r2.cloudflarestorage.com/treine-me/profile-images/profile_1703123456_abc123.jpg"
                      contentType: "image/jpeg"
                      size: 1024000
        '400':
          description: Arquivo inv√°lido ou muito grande
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
              examples:
                invalid_file:
                  summary: Arquivo inv√°lido
                  value:
                    success: false
                    error:
                      message: "Tipo de arquivo n√£o permitido. Tipos aceitos: image/jpeg, image/png, image/webp"
                file_too_large:
                  summary: Arquivo muito grande
                  value:
                    success: false
                    error:
                      message: "Arquivo muito grande. Tamanho m√°ximo: 100MB"

  /upload/course-cover:
    post:
      summary: Upload de capa de curso
      description: |
        Upload de imagem de capa para cursos e produtos.
        
        **Tipos de arquivo aceitos:**
        - JPEG (.jpg, .jpeg)
        - PNG (.png)
        - WebP (.webp)
        
        **Limita√ß√µes:**
        - Tamanho m√°ximo: 100MB
        - Arquivo ser√° renomeado automaticamente para evitar conflitos
        - URL ser√° retornada para uso nas capas dos cursos
        - Recomendado: 1200x630px para melhor visualiza√ß√£o
        
        **Observa√ß√µes:**
        - √â obrigat√≥rio informar o ID do produto/curso (`produtoId`) no corpo do `multipart/form-data` ou via query string.
      tags:
        - Upload
        - Upload Contextual
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de imagem (JPEG, PNG, WebP)
                produtoId:
                  type: string
                  format: uuid
                  description: ID do produto/curso ao qual a capa pertence
              required:
                - file
                - produtoId
            examples:
              course_cover:
                summary: Exemplo de upload de capa de curso
                value:
                  file: "capa_curso.jpg"
                  produtoId: "ba273d71-9f1b-4c1e-b732-dff3913750e1"
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/FileUploadResponse'
              examples:
                success:
                  summary: Upload bem-sucedido
                  value:
                    success: true
                    data:
                      fileName: "course_cover_1703123456_def456.jpg"
                      url: "https://24be5a76d99e172619714a8eb94b63d9.r2.cloudflarestorage.com/treine-me/course-covers/course_cover_1703123456_def456.jpg"
                      contentType: "image/jpeg"
                      size: 2048000

  /upload/video:
    post:
      summary: Upload de v√≠deo
      description: |
        Upload de v√≠deos para aulas e conte√∫do de cursos.
        
        **Tipos de arquivo aceitos:**
        - MP4 (.mp4)
        - WebM (.webm)
        - QuickTime (.mov)
        
        **Limita√ß√µes:**
        - Tamanho m√°ximo: 100MB
        - Arquivo ser√° renomeado automaticamente para evitar conflitos
        - URL ser√° retornada para uso nas aulas
        - Recomendado: MP4 com codec H.264 para melhor compatibilidade
      tags:
        - Upload
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de v√≠deo (MP4, WebM, QuickTime)
            examples:
              lesson_video:
                summary: Exemplo de upload de v√≠deo de aula
                value:
                  file: "aula_introducao.mp4"
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/FileUploadResponse'
              examples:
                success:
                  summary: Upload bem-sucedido
                  value:
                    success: true
                    data:
                      fileName: "video_1703123456_ghi789.mp4"
                      url: "https://24be5a76d99e172619714a8eb94b63d9.r2.cloudflarestorage.com/treine-me/course-videos/video_1703123456_ghi789.mp4"
                      contentType: "video/mp4"
                      size: 52428800

  /upload/document:
    post:
      summary: Upload de documento
      description: |
        Upload de documentos, e-books e materiais complementares para cursos.
        
        **Tipos de arquivo aceitos:**
        - PDF (.pdf) - Para e-books e materiais de leitura
        - DOC (.doc) - Documentos do Microsoft Word
        - DOCX (.docx) - Documentos do Microsoft Word (formato moderno)
        
        **Limita√ß√µes:**
        - Tamanho m√°ximo: 100MB
        - Arquivo ser√° renomeado automaticamente para evitar conflitos
        - URL ser√° retornada para uso nos materiais do curso
        - PDFs s√£o armazenados na pasta "ebooks", outros na pasta "course-files"
      tags:
        - Upload
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de documento (PDF, DOC, DOCX)
            examples:
              ebook_pdf:
                summary: Exemplo de upload de e-book PDF
                value:
                  file: "guia_javascript.pdf"
              course_material:
                summary: Exemplo de upload de material do curso
                value:
                  file: "exercicios.docx"
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/FileUploadResponse'
              examples:
                success_pdf:
                  summary: Upload de PDF bem-sucedido
                  value:
                    success: true
                    data:
                      fileName: "ebook_1703123456_jkl012.pdf"
                      url: "https://24be5a76d99e172619714a8eb94b63d9.r2.cloudflarestorage.com/treine-me/ebooks/ebook_1703123456_jkl012.pdf"
                      contentType: "application/pdf"
                      size: 10485760
                success_doc:
                  summary: Upload de DOC bem-sucedido
                  value:
                    success: true
                    data:
                      fileName: "material_1703123456_mno345.docx"
                      url: "https://24be5a76d99e172619714a8eb94b63d9.r2.cloudflarestorage.com/treine-me/course-files/material_1703123456_mno345.docx"
                      contentType: "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                      size: 2097152

  # ========== UPLOAD CONTEXTUAL ==========

  /upload/course-gallery:
    post:
      summary: Upload de galeria de curso
      description: |
        Upload de fotos para galeria do curso.
        
        **Caracter√≠sticas:**
        - Armazenado em pasta: `course-gallery/`
        - M√∫ltiplas fotos permitidas
        - Organiza√ß√£o autom√°tica por curso
      tags:
        - Upload Contextual
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de imagem para galeria
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/FileUploadResponse'

  /upload/module-cover:
    post:
      summary: Upload de capa de m√≥dulo
      description: |
        Faz upload de uma imagem e atualiza automaticamente o campo `capaUrl` do m√≥dulo.
        
        **Caracter√≠sticas:**
        - Armazenado em pasta: `module-covers/`
        - Valida√ß√£o otimizada para m√≥dulos
        - Organiza√ß√£o hier√°rquica
      tags:
        - Upload Contextual
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de imagem da capa do m√≥dulo
                moduloId:
                  type: string
                  format: uuid
            required:
              - file
              - moduloId
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileUploadResponse'
        '400':
          description: Requisi√ß√£o inv√°lida
        '401':
          description: N√£o autorizado

  /upload/module-intro-video:
    post:
      summary: Upload de v√≠deo de introdu√ß√£o do m√≥dulo
      description: |
        Faz upload de um v√≠deo de introdu√ß√£o e atualiza automaticamente o campo `videoIntroUrl` do m√≥dulo.
      tags:
        - Upload Contextual
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                moduloId:
                  type: string
                  format: uuid
            required:
              - file
              - moduloId
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileUploadResponse'
        '400':
          description: Requisi√ß√£o inv√°lida
        '401':
          description: N√£o autorizado

  /upload/module-gallery:
    post:
      summary: Upload de galeria de m√≥dulo
      description: |
        Upload de fotos para galeria do m√≥dulo.
        
        **Caracter√≠sticas:**
        - Armazenado em pasta: `module-gallery/`
        - Fotos complementares do m√≥dulo
        - Organiza√ß√£o por m√≥dulo
      tags:
        - Upload Contextual
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de imagem para galeria do m√≥dulo
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/FileUploadResponse'

  /upload/lesson-cover:
    post:
      summary: Upload de capa de aula
      description: |
        Upload espec√≠fico para capa de aula.
        
        **Caracter√≠sticas:**
        - Armazenado em pasta: `lesson-covers/`
        - Valida√ß√£o para aulas
        - Organiza√ß√£o por aula
      tags:
        - Upload Contextual
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de imagem da capa da aula
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/FileUploadResponse'

  /upload/lesson-gallery:
    post:
      summary: Upload de galeria de aula
      description: |
        Upload de fotos para galeria da aula.
        
        **Caracter√≠sticas:**
        - Armazenado em pasta: `lesson-gallery/`
        - Fotos complementares da aula
        - Organiza√ß√£o por aula
      tags:
        - Upload Contextual
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de imagem para galeria da aula
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/FileUploadResponse'

  /upload/general-photos:
    post:
      summary: Upload de fotos gerais
      description: |
        Upload de fotos para uso geral na plataforma.
        
        **Caracter√≠sticas:**
        - Armazenado em pasta: `general-photos/`
        - Uso flex√≠vel
        - Organiza√ß√£o geral
      tags:
        - Upload Contextual
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Arquivo de imagem para uso geral
      responses:
        '200':
          description: Upload realizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/FileUploadResponse'

  /professores/me/produtos/{produtoId}/modulos:
    get:
      summary: Listar m√≥dulos do produto
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Lista de m√≥dulos
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/ModuloResponse'
    post:
      summary: Criar m√≥dulo no produto (inserido na √∫ltima posi√ß√£o)
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModuloCreateRequest'
      responses:
        '200':
          description: M√≥dulo criado
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ModuloResponse'

  /professores/me/produtos/{produtoId}/modulos/reorder:
    put:
      summary: Reordenar m√≥dulos do produto
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReorderModulosRequest'
      responses:
        '200':
          description: Reordena√ß√£o aplicada

  /professores/me/produtos/{produtoId}/modulos/{moduloId}:
    put:
      summary: Atualizar m√≥dulo
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModuloUpdateRequest'
      responses:
        '200':
          description: M√≥dulo atualizado
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ModuloResponse'
    delete:
      summary: Desativar m√≥dulo
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: M√≥dulo desativado

  /professores/me/produtos/{produtoId}/modulos/{moduloId}/aulas:
    get:
      summary: Listar aulas do m√≥dulo
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Lista de aulas
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/AulaResponse'
    post:
      summary: Criar aula (inserida na √∫ltima posi√ß√£o)
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AulaCreateRequest'
      responses:
        '200':
          description: Aula criada
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/AulaResponse'

  /professores/me/produtos/{produtoId}/modulos/{moduloId}/aulas/reorder:
    put:
      summary: Reordenar aulas do m√≥dulo
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReorderAulasRequest'
      responses:
        '200':
          description: Reordena√ß√£o aplicada

  /professores/me/produtos/{produtoId}/modulos/{moduloId}/aulas/{aulaId}:
    put:
      summary: Atualizar aula
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: aulaId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AulaUpdateRequest'
      responses:
        '200':
          description: Aula atualizada
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/AulaResponse'
    delete:
      summary: Desativar aula
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: aulaId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Aula desativada

  /professores/me/produtos/{produtoId}/modulos/{moduloId}/aulas/{aulaId}/conteudo:
    put:
      summary: Atualizar conte√∫do da aula (upsert)
      tags:
        - M√≥dulos e Aulas
      security:
        - BearerAuth: []
      parameters:
        - name: produtoId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: aulaId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConteudoUpdateRequest'
      responses:
        '200':
          description: Conte√∫do atualizado
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ConteudoResponse'

  # ========== API P√öBLICA ==========

  /public/professor/{professorId}:
    get:
      summary: Obter dados do professor
      description: |
        Endpoint p√∫blico para obter informa√ß√µes b√°sicas de um professor espec√≠fico.
        
        **Importante:** Cada professor possui seu pr√≥prio app, este endpoint √© usado 
        para mostrar informa√ß√µes do professor no app p√∫blico.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
          example: "ba273d71-9f1b-4c1e-b732-dff3913750e1"
      responses:
        '200':
          description: Dados do professor obtidos com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ProfessorResponse'
              examples:
                success:
                  summary: Professor encontrado
                  value:
                    success: true
                    data:
                      id: "ba273d71-9f1b-4c1e-b732-dff3913750e1"
                      nome: "Jo√£o Silva"
                      email: "joao@exemplo.com"
                      bio: "Professor de programa√ß√£o com 10 anos de experi√™ncia"
                      fotoPerfilUrl: "https://exemplo.com/foto.jpg"
        '404':
          description: Professor n√£o encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
              examples:
                not_found:
                  summary: Professor n√£o encontrado
                  value:
                    success: false
                    error:
                      message: "Professor n√£o encontrado"

  /public/professor/{professorId}/planos:
    get:
      summary: Listar planos do professor
      description: |
        Lista todos os planos de assinatura dispon√≠veis de um professor espec√≠fico.
        Endpoint p√∫blico - n√£o requer autentica√ß√£o.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: page
          in: query
          description: N√∫mero da p√°gina
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          description: Tamanho da p√°gina
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: Lista de planos do professor
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PaginatedResponse'

  /public/professor/{professorId}/planos/{planoId}:
    get:
      summary: Obter detalhes de um plano
      description: |
        Obt√©m informa√ß√µes detalhadas de um plano espec√≠fico do professor.
        Endpoint p√∫blico - mostra pre√ßos e benef√≠cios para usu√°rios n√£o logados.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: planoId
          in: path
          required: true
          description: ID √∫nico do plano
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Detalhes do plano
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PlanoResponse'

  /public/professor/{professorId}/planos/{planoId}/produtos:
    get:
      summary: Listar produtos de um plano
      description: |
        Lista todos os produtos (cursos, e-books, mentorias) inclu√≠dos em um plano espec√≠fico.
        Permite que usu√°rios vejam o que est√° inclu√≠do antes de se inscrever.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: planoId
          in: path
          required: true
          description: ID √∫nico do plano
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Lista de produtos do plano
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/ProdutoResponse'

  /public/professor/{professorId}/produtos:
    get:
      summary: Listar produtos do professor
      description: |
        Lista todos os produtos (cursos, e-books, mentorias) dispon√≠veis de um professor.
        Endpoint p√∫blico para navega√ß√£o do cat√°logo.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: page
          in: query
          description: N√∫mero da p√°gina
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          description: Tamanho da p√°gina
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: Lista de produtos do professor
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PaginatedResponse'

  /public/professor/{professorId}/produtos/{produtoId}:
    get:
      summary: Obter detalhes de um produto
      description: |
        Obt√©m informa√ß√µes detalhadas de um produto espec√≠fico (curso, e-book, mentoria).
        Mostra t√≠tulo, descri√ß√£o, capa e v√≠deo de introdu√ß√£o publicamente.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: produtoId
          in: path
          required: true
          description: ID √∫nico do produto
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Detalhes do produto
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ProdutoResponse'

  /public/professor/{professorId}/produtos/{produtoId}/modulos:
    get:
      summary: Listar m√≥dulos de um produto
      description: |
        Lista todos os m√≥dulos de um produto (curso) espec√≠fico.
        Permite navega√ß√£o da estrutura do curso sem acesso ao conte√∫do.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: produtoId
          in: path
          required: true
          description: ID √∫nico do produto
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Lista de m√≥dulos do produto
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/ModuloResponse'

  /public/professor/{professorId}/modulos/{moduloId}:
    get:
      summary: Obter detalhes de um m√≥dulo
      description: |
        Obt√©m informa√ß√µes detalhadas de um m√≥dulo espec√≠fico.
        Mostra t√≠tulo, descri√ß√£o e v√≠deo de introdu√ß√£o publicamente.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          description: ID √∫nico do m√≥dulo
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Detalhes do m√≥dulo
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ModuloResponse'

  /public/professor/{professorId}/modulos/{moduloId}/aulas:
    get:
      summary: Listar aulas de um m√≥dulo
      description: |
        Lista todas as aulas de um m√≥dulo espec√≠fico.
        
        **Importante:** Este endpoint p√∫blico mostra apenas metadados das aulas
        (t√≠tulo, descri√ß√£o, ordem, tipo), mas n√£o o conte√∫do real.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: moduloId
          in: path
          required: true
          description: ID √∫nico do m√≥dulo
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Lista de aulas do m√≥dulo
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/PublicAulaResponse'
              examples:
                success:
                  summary: Lista de aulas p√∫blicas
                  value:
                    success: true
                    data:
                      - id: "aula-123"
                        titulo: "Introdu√ß√£o ao JavaScript"
                        descricao: "Conceitos b√°sicos da linguagem"
                        ordem: 1
                        tipoConteudo: "VIDEO"
                        planoId: "plano-123"
                        moduloId: "modulo-123"
                        temConteudo: true

  /public/professor/{professorId}/aulas/{aulaId}:
    get:
      summary: Obter metadados de uma aula
      description: |
        Obt√©m informa√ß√µes b√°sicas de uma aula espec√≠fica.
        
        **Importante:** Este endpoint p√∫blico mostra apenas metadados (t√≠tulo, descri√ß√£o, 
        tipo de conte√∫do), mas n√£o o conte√∫do real da aula. Para acessar o conte√∫do,
        o aluno deve estar autenticado e ter inscri√ß√£o ativa no plano.
      tags:
        - API P√∫blica
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: aulaId
          in: path
          required: true
          description: ID √∫nico da aula
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Metadados da aula
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PublicAulaResponse'

  # ========== APP DO ALUNO ==========

  /aluno/me:
    get:
      summary: Obter meu perfil
      description: |
        Obt√©m informa√ß√µes do perfil do aluno logado.
      tags:
        - App do Aluno
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Perfil do aluno
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/AlunoResponse'
        '401':
          description: Token inv√°lido ou expirado
        '403':
          description: Acesso negado - apenas alunos
    put:
      summary: Atualizar meu perfil
      description: |
        Atualiza informa√ß√µes do perfil do aluno logado.
      tags:
        - App do Aluno
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nome:
                  type: string
                  example: "Jo√£o Silva"
                fotoPerfilUrl:
                  type: string
                  format: uri
                  example: "https://exemplo.com/foto.jpg"
      responses:
        '200':
          description: Perfil atualizado com sucesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/AlunoResponse'

  /aluno/inscricoes:
    get:
      summary: Listar minhas inscri√ß√µes
      description: |
        Lista todas as inscri√ß√µes (ativas e inativas) do aluno logado.
      tags:
        - App do Aluno
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: N√∫mero da p√°gina
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          description: Tamanho da p√°gina
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: Lista de inscri√ß√µes do aluno
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PaginatedResponse'

  /aluno/inscricoes/{inscricaoId}:
    get:
      summary: Obter detalhes de uma inscri√ß√£o
      description: |
        Obt√©m informa√ß√µes detalhadas de uma inscri√ß√£o espec√≠fica do aluno.
      tags:
        - App do Aluno
      security:
        - BearerAuth: []
      parameters:
        - name: inscricaoId
          in: path
          required: true
          description: ID √∫nico da inscri√ß√£o
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Detalhes da inscri√ß√£o
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/InscricaoResponse'

  /aluno/professor/{professorId}/produtos:
    get:
      summary: Listar meus produtos dispon√≠veis
      description: |
        Lista todos os produtos (cursos, e-books, mentorias) aos quais o aluno 
        tem acesso atrav√©s de suas inscri√ß√µes ativas com um professor espec√≠fico.
      tags:
        - App do Aluno
      security:
        - BearerAuth: []
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Lista de produtos dispon√≠veis para o aluno
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/ProdutoResponse'

  /aluno/professor/{professorId}/aulas/{aulaId}:
    get:
      summary: Obter aula completa com verifica√ß√£o de acesso
      description: |
        Obt√©m informa√ß√µes completas de uma aula, incluindo o conte√∫do se o aluno 
        tiver acesso atrav√©s de inscri√ß√£o ativa no plano.
        
        **Controle de Acesso:**
        - Se o aluno tem inscri√ß√£o ativa: retorna aula completa com conte√∫do
        - Se o aluno n√£o tem acesso: retorna apenas metadados sem conte√∫do
      tags:
        - App do Aluno
      security:
        - BearerAuth: []
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: aulaId
          in: path
          required: true
          description: ID √∫nico da aula
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Aula com verifica√ß√£o de acesso
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/AulaCompletaResponse'
              examples:
                com_acesso:
                  summary: Aluno com acesso ao conte√∫do
                  value:
                    success: true
                    data:
                      id: "aula-123"
                      titulo: "Introdu√ß√£o ao JavaScript"
                      descricao: "Conceitos b√°sicos da linguagem"
                      ordem: 1
                      tipoConteudo: "VIDEO"
                      planoId: "plano-123"
                      moduloId: "modulo-123"
                      temAcesso: true
                      conteudo:
                        id: "conteudo-123"
                        urlVideo: "https://exemplo.com/video.mp4"
                        textoMarkdown: "# Conte√∫do da aula..."
                        arquivoUrl: "https://exemplo.com/material.pdf"
                        aulaId: "aula-123"
                sem_acesso:
                  summary: Aluno sem acesso ao conte√∫do
                  value:
                    success: true
                    data:
                      id: "aula-123"
                      titulo: "Introdu√ß√£o ao JavaScript"
                      descricao: "Conceitos b√°sicos da linguagem"
                      ordem: 1
                      tipoConteudo: "VIDEO"
                      planoId: "plano-123"
                      moduloId: "modulo-123"
                      temAcesso: false
                      conteudo: null

  /aluno/professor/{professorId}/aulas/{aulaId}/conteudo:
    get:
      summary: Obter conte√∫do da aula (acesso restrito)
      description: |
        Obt√©m o conte√∫do completo de uma aula espec√≠fica.
        
        **Importante:** Este endpoint requer que o aluno tenha inscri√ß√£o ativa 
        no plano que inclui esta aula. Caso contr√°rio, retornar√° erro 403.
      tags:
        - App do Aluno
      security:
        - BearerAuth: []
      parameters:
        - name: professorId
          in: path
          required: true
          description: ID √∫nico do professor
          schema:
            type: string
            format: uuid
        - name: aulaId
          in: path
          required: true
          description: ID √∫nico da aula
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Conte√∫do da aula
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/ConteudoResponse'
        '403':
          description: Acesso negado - inscri√ß√£o ativa necess√°ria
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
              examples:
                access_denied:
                  summary: Sem acesso ao conte√∫do
                  value:
                    success: false
                    error:
                      message: "Voc√™ n√£o tem acesso ao conte√∫do desta aula. √â necess√°rio ter uma inscri√ß√£o ativa no plano."
